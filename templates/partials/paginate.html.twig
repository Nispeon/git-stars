<div>
    <div class="pagination">
        <ul class="justify-content-center">
        {% if paginate.hasPrevious %}
            <li><a href="{{ path(route, route_parameters|merge({'page': paginate.current - 1})) }}"><</a></li>
            {%  if paginate.current >= 3  %}
                <li><a href="{{ path(route, route_parameters|merge({'page': 1})) }}">1</a></li>
                {% if paginate.current >= 4 %}
                    <li><p> ... </p></li>
                {% endif %}
            {% endif %}

        {% endif %}

        {% for page in paginate.range %}
            <li class="{% if page == paginate.current %}active{% endif %}"><a href="{{ path(route, route_parameters|merge({'page': page})) }}">{{ page }}</a></li>
        {% endfor %}

        {% if paginate.hasNext %}
            {%  if paginate.current < paginate.total - 1  %}
                {% if paginate.current != paginate.total - 2 %}
                    <li><p> ... </p></li>
                {% endif %}

                <li><a href="{{ path(route, route_parameters|merge({'page': paginate.total })) }}">{{ paginate.total }}</a></li>

            {% endif %}
            <li><a href="{{ path(route, route_parameters|merge({'page': paginate.current + 1})) }}">></a></li>
        {% endif %}
        </ul>
    </div>
</div>


